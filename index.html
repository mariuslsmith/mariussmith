<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marius Smith - Pixel World</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #111;
            color: #fff;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }
        #toolbar {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.9);
            padding: 20px;
            border: 2px solid #ccc;
            border-radius: 8px;
            min-width: 200px;
        }
        .tab {
            padding: 10px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            margin-bottom: 5px;
        }
        .tab.active {
            border-bottom-color: #fff;
        }
        #canvas {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 4px solid #ccc;
            image-rendering: pixelated;
            cursor: pointer;
        }
        #status {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-size: 12px;
            color: #ccc;
        }
    </style>
</head>
<body>
    <div id="toolbar">
        <div class="tab active">Pixel Portfolio</div>
    </div>
    <canvas id="canvas" width="1024" height="768"></canvas>
    <div id="status">Marius Smith | mariussmith.xyz | Arrow keys/WASD | Enter houses</div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        ctx.imageSmoothingEnabled = false;
        const TILESIZE = 32;

        let map = Array(32).fill().map(() => Array(24).fill(0));

        // Houses row 10-11
        map[10][6] = map[10][7] = map[11][6] = map[11][7] = 1; // About
        map[10][14] = map[10][15] = map[11][14] = map[11][15] = 2; // Works
        map[10][22] = map[10][23] = map[11][22] = map[11][23] = 3; // Music/Berghain

        let avatar = { x: 15, y: 14 };
        const houses = {
            1: 'https://mariussmith.xyz/about',
            2: 'https://mariussmith.xyz/works',
            3: 'https://mariussmith.xyz/music'
        };

        // 5x7 Pixel font (35 bits per char)
        const pixelFont = {
            'M': [1,1,0,0,1,1,0,1,1,1,1,0,0,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1],
            'A': [0,1,1,1,0,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1],
            'R': [1,1,1,1,0,1,0,0,0,1,1,1,1,1,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,1,0,0,0,1],
            'I': [1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,1,1,1,1,1,0,0,0,0,0],
            'U': [1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
            'S': [1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
            'H': [1,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,1]
            // Add more letters as needed
        };

        function drawPixelText(text, startX, startY, scale = 5) {
            ctx.fillStyle = '#fff';
            let x = startX;
            for (let char of text) {
                if (pixelFont[char]) {
                    for (let i = 0; i < 35; i++) {
                        const col = i % 5;
                        const row = Math.floor(i / 5);
                        if (pixelFont[char][i]) {
                            ctx.fillRect(x + col * scale, startY + row * scale, scale, scale);
                        }
                    }
                    x += 6 * scale; // Extra spacing
                }
            }
        }

        function drawWorld() {
            // Dark night sky background
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, 1024, 768);

            // NIGHT SUN/MOON top-right, like attached image: glowing yellow circle with rays
            const moonX = 950;
            const moonY = 50;
            const moonR = 40;
            // Glow gradient
            const glowGradient = ctx.createRadialGradient(moonX, moonY, 0, moonX, moonY, moonR * 1.5);
            glowGradient.addColorStop(0, '#ffff88');
            glowGradient.addColorStop(0.5, '#ffaa00');
            glowGradient.addColorStop(1, 'rgba(255, 255, 0, 0)');
            ctx.fillStyle = glowGradient;
            ctx.beginPath();
            ctx.arc(moonX, moonY, moonR * 1.5, 0, Math.PI * 2);
            ctx.fill();
            // Solid moon
            ctx.fillStyle = '#fffb88';
            ctx.beginPath();
            ctx.arc(moonX, moonY, moonR, 0, Math.PI * 2);
            ctx.fill();
            // Ray spikes (pixelated)
            ctx.fillStyle = '#ffaa00';
            for (let i = 0; i < 12; i++) {
                const angle = (i / 12) * Math.PI * 2;
                const rayLen = 20;
                ctx.fillRect(moonX + Math.cos(angle) * moonR - 1, moonY + Math.sin(angle) * moonR - 1, 2, rayLen);
            }

            // HUGE PIXEL "Marius Smith" row 2
            drawPixelText('MARIUS SMITH', 1.5 * TILESIZE, 1.5 * TILESIZE, 6);

            // Houses
            for (let y = 0; y < 24; y++) {
                for (let x = 0; x < 32; x++) {
                    if (map[y][x] === 1) { // About - white house
                        ctx.fillStyle = '#fff';
                        ctx.fillRect(x * TILESIZE, y * TILESIZE, TILESIZE, TILESIZE);
                        ctx.fillStyle = '#ccc';
                        ctx.fillRect(x * TILESIZE + 8, y * TILESIZE + 8, 16, 16);
                    } else if (map[y][x] === 2) { // Works - gray house
                        ctx.fillStyle = '#ccc';
                        ctx.fillRect(x * TILESIZE, y * TILESIZE, TILESIZE, TILESIZE);
                        ctx.fillStyle = '#fff';
                        ctx.fillRect(x * TILESIZE + 12, y * TILESIZE + 12, 8, 8);
                    } else if (map[y][x] === 3) { // MUSIC - BERGHain brutalist neon (enhanced)
                        // Base: tall monolithic concrete (darker #333, taller to row 9 base)
                        if (y >= 9) {
                            ctx.fillStyle = '#333'; // Raw industrial concrete
                            ctx.fillRect(x * TILESIZE + 2, y * TILESIZE + (y === 9 ? 8 : 0), TILESIZE - 4, TILESIZE - (y === 9 ? 8 : 0));
                        }
                        // Cornice top (minimalist)
                        if (y === 10) {
                            ctx.fillStyle = '#444';
                            ctx.fillRect(x * TILESIZE + 4, y * TILESIZE - 4, TILESIZE - 8, 4);
                        }
                        // Narrow vertical tinted windows (neon glow strips, Berghain style: thin, vertical, colored)
                        ctx.fillStyle = '#f00'; // Red strip left
                        ctx.fillRect(x * TILESIZE + 6, y * TILESIZE + 4, 3, 16);
                        ctx.fillStyle = '#f0f'; // Magenta center-left
                        ctx.fillRect(x * TILESIZE + 11, y * TILESIZE + 4, 3, 16);
                        ctx.fillStyle = '#0f0'; // Green center-right
                        ctx.fillRect(x * TILESIZE + 16, y * TILESIZE + 4, 3, 16);
                        ctx.fillStyle = '#0ff'; // Cyan right
                        ctx.fillRect(x * TILESIZE + 21, y * TILESIZE + 4, 3, 16);
                        // Subtle concrete pillars between windows
                        ctx.fillStyle = '#444';
                        ctx.fillRect(x * TILESIZE + 9, y * TILESIZE, 3, TILESIZE);
                        ctx.fillRect(x * TILESIZE + 19, y * TILESIZE, 3, TILESIZE);
                    }
                }
            }

            // Labels
            ctx.fillStyle = '#fff';
            ctx.font = '10px Courier New';
            ctx.textAlign = 'left';
            ctx.fillText('About', 9 * TILESIZE, 10 * TILESIZE + 20);
            ctx.fillText('Works', 17 * TILESIZE, 10 * TILESIZE + 20);
            ctx.fillText('Music', 25 * TILESIZE, 10 * TILESIZE + 20);

            // Avatar
            ctx.fillStyle = '#fff';
            ctx.fillRect(avatar.x * TILESIZE + 10, avatar.y * TILESIZE + 6, 12, 16);
            ctx.fillRect(avatar.x * TILESIZE + 13, avatar.y * TILESIZE + 2, 6, 4);
        }

        function moveAvatar(dx, dy) {
            const newX = avatar.x + dx;
            const newY = avatar.y + dy;
            if (newX >= 0 && newX < 32 && newY >= 0 && newY < 24 && map[newY][newX] === 0) {
                const houseId = map[newY][newX];
                if (houseId) {
                    window.open(houses[houseId], '_blank');
                    return;
                }
                avatar.x = newX;
                avatar.y = newY;
            }
            drawWorld();
        }

        document.addEventListener('keydown', e => {
            switch (e.key.toLowerCase()) {
                case 'w':
                case 'arrowup':
                    moveAvatar(0, -1);
                    break;
                case 's':
                case 'arrowdown':
                    moveAvatar(0, 1);
                    break;
                case 'a':
                case 'arrowleft':
                    moveAvatar(-1, 0);
                    break;
                case 'd':
                case 'arrowright':
                    moveAvatar(1, 0);
                    break;
            }
        });

        canvas.onclick = () => drawWorld();
        ctx.textAlign = 'left';
        drawWorld();
    </script>
</body>
</html>
